"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var child_process_1 = require("child_process");
var chai_1 = require("chai");
var mocha_1 = require("mocha");
var urls_1 = require("../../src/urls");
var utils_1 = require("../../src/utils");
var constants_1 = require("../constants");
var functions_1 = require("../functions");
mocha_1.describe('Test clasp open function', function () {
    before(functions_1.setup);
    mocha_1.it('should open script correctly', function () {
        var result = child_process_1.spawnSync(constants_1.CLASP, ['open'], { encoding: 'utf8' });
        chai_1.expect(result.stdout).to.contain("Opening script: " + urls_1.URL.SCRIPT(constants_1.SCRIPT_ID));
    });
    mocha_1.it('should error with incorrect scriptId if length < 30', function () {
        var result = child_process_1.spawnSync(constants_1.CLASP, ['open', 'abc123'], { encoding: 'utf8' });
        chai_1.expect(result.stderr).to.contain(utils_1.ERROR.SCRIPT_ID_INCORRECT('abc123'));
        chai_1.expect(result.status).to.equal(1);
    });
    mocha_1.it('open credentials page correctly', function () {
        var result = child_process_1.spawnSync(constants_1.CLASP, ['open', '--creds'], { encoding: 'utf8' });
        chai_1.expect(result.stdout).to.contain(utils_1.LOG.OPEN_CREDS(constants_1.PROJECT_ID));
    });
    mocha_1.it('open credentials page correctly', function () {
        var result = child_process_1.spawnSync(constants_1.CLASP, ['open', '--webapp'], { encoding: 'utf8' });
        chai_1.expect(result.stdout).to.contain('Open which deployment?');
    });
    after(functions_1.cleanup);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3Blbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIm9wZW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwrQ0FBMEM7QUFDMUMsNkJBQThCO0FBQzlCLCtCQUFxQztBQUNyQyx1Q0FBcUM7QUFDckMseUNBQTZDO0FBQzdDLDBDQUE0RDtBQUM1RCwwQ0FBOEM7QUFFOUMsZ0JBQVEsQ0FBQywwQkFBMEIsRUFBRTtJQUNuQyxNQUFNLENBQUMsaUJBQUssQ0FBQyxDQUFDO0lBQ2QsVUFBRSxDQUFDLDhCQUE4QixFQUFFO1FBQ2pDLElBQU0sTUFBTSxHQUFHLHlCQUFTLENBQ3RCLGlCQUFLLEVBQUUsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsQ0FDdEMsQ0FBQztRQUNGLGFBQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxxQkFBbUIsVUFBRyxDQUFDLE1BQU0sQ0FBQyxxQkFBUyxDQUFHLENBQUMsQ0FBQztJQUMvRSxDQUFDLENBQUMsQ0FBQztJQUNILFVBQUUsQ0FBQyxxREFBcUQsRUFBRTtRQUN4RCxJQUFNLE1BQU0sR0FBRyx5QkFBUyxDQUN0QixpQkFBSyxFQUFFLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxFQUFFLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxDQUNoRCxDQUFDO1FBQ0YsYUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLGFBQUssQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQ3RFLGFBQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNwQyxDQUFDLENBQUMsQ0FBQztJQUNILFVBQUUsQ0FBQyxpQ0FBaUMsRUFBRTtRQUNwQyxJQUFNLE1BQU0sR0FBRyx5QkFBUyxDQUN0QixpQkFBSyxFQUFFLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxFQUFFLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxDQUNqRCxDQUFDO1FBQ0YsYUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLFdBQUcsQ0FBQyxVQUFVLENBQUMsc0JBQVUsQ0FBQyxDQUFDLENBQUM7SUFDL0QsQ0FBQyxDQUFDLENBQUM7SUFDSCxVQUFFLENBQUMsaUNBQWlDLEVBQUU7UUFDcEMsSUFBTSxNQUFNLEdBQUcseUJBQVMsQ0FDdEIsaUJBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxVQUFVLENBQUMsRUFBRSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsQ0FDbEQsQ0FBQztRQUNGLGFBQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO0lBQzdELENBQUMsQ0FBQyxDQUFDO0lBQ0gsS0FBSyxDQUFDLG1CQUFPLENBQUMsQ0FBQztBQUNqQixDQUFDLENBQUMsQ0FBQyJ9