"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var apis_1 = require("./apis");
/**
 * Extracts scriptId from URL if given in URL form.
 * @param scriptId {string} either a scriptId or URL containing the scriptId
 * @example
 * extractScriptId(
 * 'https://script.google.com/a/DOMAIN/d/1Ng7bNZ1K95wNi2H7IUwZzM68FL6ffxQhyc_ByV42zpS6qAFX8pFsWu2I/edit'
 * )
 * returns '1Ng7bNZ1K95wNi2H7IUwZzM68FL6ffxQhyc_ByV42zpS6qAFX8pFsWu2I'
 * @example
 * extractScriptId('1Ng7bNZ1K95wNi2H7IUwZzM68FL6ffxQhyc_ByV42zpS6qAFX8pFsWu2I')
 * returns '1Ng7bNZ1K95wNi2H7IUwZzM68FL6ffxQhyc_ByV42zpS6qAFX8pFsWu2I'
 */
exports.extractScriptId = function (scriptId) {
    if (scriptId.length !== apis_1.SCRIPT_ID_LENGTH) {
        var ids = scriptId.split('/').filter(function (s) {
            return s.length === apis_1.SCRIPT_ID_LENGTH;
        });
        if (ids.length) {
            scriptId = ids[0];
        }
    }
    return scriptId;
};
// Helpers to get Apps Script project URLs
exports.URL = {
    APIS: function (projectId) { return "https://console.developers.google.com/apis/dashboard?project=" + projectId; },
    CREDS: function (projectId) { return "https://console.developers.google.com/apis/credentials?project=" + projectId; },
    LOGS: function (projectId) {
        return "https://console.cloud.google.com/logs/viewer?project=" + projectId + "&resource=app_script_function";
    },
    SCRIPT_API_USER: 'https://script.google.com/home/usersettings',
    // It is too expensive to get the script URL from the Drive API. (Async/not offline)
    SCRIPT: function (scriptId) { return "https://script.google.com/d/" + scriptId + "/edit"; },
    DRIVE: function (driveId) { return "https://drive.google.com/open?id=" + driveId; },
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXJscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInVybHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwrQkFBMEM7QUFFMUM7Ozs7Ozs7Ozs7O0dBV0c7QUFDVSxRQUFBLGVBQWUsR0FBRyxVQUFDLFFBQWdCO0lBQzlDLElBQUksUUFBUSxDQUFDLE1BQU0sS0FBSyx1QkFBZ0IsRUFBRTtRQUN4QyxJQUFNLEdBQUcsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFBLENBQUM7WUFDdEMsT0FBTyxDQUFDLENBQUMsTUFBTSxLQUFLLHVCQUFnQixDQUFDO1FBQ3ZDLENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxHQUFHLENBQUMsTUFBTSxFQUFFO1lBQ2QsUUFBUSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNuQjtLQUNGO0lBQ0QsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQyxDQUFDO0FBRUYsMENBQTBDO0FBQzdCLFFBQUEsR0FBRyxHQUFHO0lBQ2pCLElBQUksRUFBRSxVQUFDLFNBQWlCLElBQUssT0FBQSxrRUFBZ0UsU0FBVyxFQUEzRSxDQUEyRTtJQUN4RyxLQUFLLEVBQUUsVUFBQyxTQUFpQixJQUFLLE9BQUEsb0VBQWtFLFNBQVcsRUFBN0UsQ0FBNkU7SUFDM0csSUFBSSxFQUFFLFVBQUMsU0FBaUI7UUFDdEIsT0FBQSwwREFBd0QsU0FBUyxrQ0FBK0I7SUFBaEcsQ0FBZ0c7SUFDbEcsZUFBZSxFQUFFLDZDQUE2QztJQUM5RCxvRkFBb0Y7SUFDcEYsTUFBTSxFQUFFLFVBQUMsUUFBZ0IsSUFBSyxPQUFBLGlDQUErQixRQUFRLFVBQU8sRUFBOUMsQ0FBOEM7SUFDNUUsS0FBSyxFQUFFLFVBQUMsT0FBZSxJQUFLLE9BQUEsc0NBQW9DLE9BQVMsRUFBN0MsQ0FBNkM7Q0FDMUUsQ0FBQyJ9